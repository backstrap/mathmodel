# The MathModel Package

## How to use

MathModel is built on top of the excellent mathcell and math packages by Paul Masson (refs needed).
It provides a very simple, straightforward, yet powerful
3D graphics drawing API.

The simplest way to use it is as follows.  First, install it in your project.

    npm install --save  @backstrap/mathmodel

Then you can extend the MathModel class to create a scene.
At its simplest, you just need to override the update() method.
Most methods are chainable where appropriate.
Here we add a cube with side length 2 and a sphere of diameter 1 to our scene.

    import {MathModel} from '@backstrap/mathmodel';

    class MyModel1 extends MathModel {
        update() {
            const shape = new Shape();
            this.add(shape.block(2))
                .add(shape.sphere());
        }
    }

A basic HTML page that will display a MathModel graphic looks like this:

    <!DOCTYPE html>
    <html lang="en">
      <head>
        <meta charset="utf-8">
        <title>Sample</title>
        <!--suppress HtmlUnknownTarget -->
        <script src="main.js"></script>
      </head>
      <body>
          <div id="mymodel1" class="mathcell"></div>
      </body>
    </html>

Note that I've referenced "main.js" which is webpack's default output filename,
generated by default from the file src/index.js in our project.
Also, the "mathcell" classname here is special (as explained in a moment).
With the above HTML file and MyModel1 class in hand, we can now create an index.js file
which will load and draw the scene.
It just calls the loadMathCells() method, passing it an object
which maps id's to classnames.
The loadMathCells() method will find all the HTML elements in our document
with class="mathcell", and if the element has an id which appears in the map,
then it will instantiate the associated MathModel class,
telling it to draw inside that element.

    import {MathModel} from '@backstrap/mathmodel';
    import {MyModel1} from './MyModel1';
    
    MathModel.loadMathCells(document, {
        mymodel1: MyModel1,
    });

In this way, a single compiled main.js file can support multiple
graphics on one page, or even multiple graphics across multiple pages.
Just assign a unique id to each div with class="mathcell",
and list them all in the classmap that you pass to MathModel.loadMathCells().

